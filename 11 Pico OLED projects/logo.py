from machine import Pin, I2C
from ssd1306 import SSD1306_I2C
from utime import sleep

WIDTH =128 
HEIGHT= 64

i2c = I2C(1, sda=Pin(14), scl=Pin(15), freq=400000)
oled = SSD1306_I2C(WIDTH,HEIGHT,i2c)

oled.fill(0)
oled.text("Tech Talkies", 10, 0)
oled.text("Hello World", 13, 20)
oled.show()

sleep(2)

buffer,img_res = imgfile.get_img() # get the image byte array

img = bytearray(b"\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x18\x00\x00\x00\x00\x00\x00\x00'\xff\xc0\x00\x00\x00\x00\x000\x00 \x00\x00\x00\x00\x00'\xff\xdf\xff\x90\x00\x00\x00\x16\xff\xc8\x00p\x00\x00\x00\x06\xff'\xff\x90\x00\x00\x00\x07\x00\xdb\xfc\xe0\x00\x00\x00\x00\x00\xda\x03\x80\x00\x00\x00\x00\x01K\x07\x80\x00\x00\x00\x00\x01J\x00\x00\x00\x00\x00\x00\x01Z\x00\x00\x00\x00\x00\x00\x01J\x00\x00\x00\x00\x00\x00\x01Z\x00\x00\x00\x00\x00\x00\x01Z\x00\x00\x00\x00\x00\x00\x01Z\x06\x00\x00\x00\x00\x00\x01Z\t\xff\xf0\x00\x00\x00\x01Z\x0e\x00\x08\x00\x08\x00\x01[\x89\xff\xf7\xff\xf4\x00\x01ZA_\xfa\x00\x08\x00\x01Z\xc1?\xed\xff\xe4\x00\x01Z@\xe0\x16\xff8\x00\x01[\x00\x006\x80@\x00\x01U\x00\x00\x16\x80\xe0\x00\x01Y\x00\x00\x16\x80\x00\x00\x0bn\x80\x00\x16\x80\x00\x00\x15m\x00\x00\x16\x80\x00\x00\t\x7f\x00\x00\x16\x80\x00\x00\x0bh\x00\x00\x16\x80\x00\x00\n\xa8\x00\x00V\x80\x00\x00\nh\x00\x00V\x80\x00\x00\x05\xd0\x00\x00V\x80\x00\x00\x05\xd0\x00\x00V\xe0\x00\x00\x02 \x00\x00V\xd0\x00\x00\x01\xc0\x00\x00V\xa8\x00\x00\x00\x00\x00\x00V\xd0\x00\x00\x00\x00\x00\x00VP\x00\x00\x00\x00\x00\x00UP\x00\x00\x00\x00\x00\x00VP\x00\x00\x00\x00\x00\x02[\xa0\x00\x00\x00\x00\x00\x03\xdd\xa0\x00\x00\x00\x00\x00\x02_\xc0\x00\x00\x00\x00\x00\x00\xda\x00\x00\x00\x00\x00\x00\x00\xaa\x00\x00\x00\x00\x00\x00\x01\x8a\x00\x00\x00\x00\x00\x00\x01x\x00\x00\x00\x00\x00\x00\x00\xb4\x00\x00\x00\x00\x00\x00\x00\xf8\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00")

# frame buff types: GS2_HMSB, GS4_HMSB, GS8, MONO_HLSB, MONO_VLSB, MONO_HMSB, MVLSB, RGB565
fb = framebuf.FrameBuffer(img,64,64, framebuf.MONO_HLSB)

oled.fill(0) # clear the OLED
oled.blit(fb, 0, 0) # show the image at location (x=0,y=0)
oled.text("Tech Talkies", 10, 0)
oled.show() # show the new text and image

start_x = 70 # start point for text in x-dir
start_y = 17 # start point for text in y-dir
lineskip = 15 # space between text in y-dir
txt_array = ['Like','&','Subscrb'] # text array
for iter_ii,txt in enumerate(txt_array):
    sleep(1)
    oled.text(txt,start_x,start_y+(iter_ii*lineskip)) # add text at (start_x,start_y)
    oled.show()